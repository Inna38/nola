"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[624],{3577:(e,t,a)=>{a.d(t,{h:()=>l});var s,n,o=a(5043);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i.apply(null,arguments)}function r(e,t){let{title:a,titleId:r,...l}=e;return o.createElement("svg",i({width:56,height:56,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),a?o.createElement("title",{id:r},a):null,s||(s=o.createElement("path",{d:"M16.3333 28H39.6666",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=o.createElement("path",{d:"M25.6666 18.6667L16.3333 28.0001L25.6666 37.3334",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const l=o.forwardRef(r);a.p},2199:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);const s=a.p+"static/media/checked.be3d76171987d08d22f337ee06d1e8e5.svg"},1465:(e,t,a)=>{a.d(t,{A:()=>d});a(5043);var s=a(5475);const n="GoBackButton_goBack__GgIr3",o="GoBackButton_titleRecovery__JKtAm",i="GoBackButton_iconDark__1CVO5";var r=a(7914),l=a(3577),c=a(579);const d=e=>{let{to:t,title:a,imgSrc:d,imgAlt:_,imgWidth:m,imgHeight:h,onClick:g}=e;const{theme:p,setTheme:b}=(0,r.y)();return(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)(s.N_,{to:t,onClick:g,className:"dark"===p?i:"",children:(0,c.jsx)(l.h,{})}),(0,c.jsx)("h3",{className:`${o} dark:text-white`,children:a})]})}},1623:(e,t,a)=>{a.d(t,{Z:()=>r});const s="MessagePostOnModeration_checked_container__BdgSs",n="MessagePostOnModeration_description__Oidx1";var o=a(2199),i=a(579);const r=e=>{let{children:t}=e;return(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("img",{src:o.A,alt:"checked"}),(0,i.jsx)("p",{className:`${n} dark:text-white `,children:t})]})}},9367:(e,t,a)=>{a.d(t,{a:()=>_});const s="Modal_backdrop__lOWi9",n="Modal_modal__+CZyj",o="Modal_children__2IgOf",i="Modal_modal_title__Ogp1a",r="Modal_modal_descr__+aYzT",l="Modal_modal_btn__n5pcC",c="Modal_modal_text__Wws8c";var d=a(579);const _=e=>{let{confirm:t,cancel:a,title:_,description:m,info:h,handleToggleModal:g,btn_text_confirm:p="Confirm",btn_text_cancel:b="Cancel",childrenEl:u=!1,children:v}=e;return(0,d.jsx)("div",{className:s,onClick:e=>{const{target:t,currentTarget:a}=e;t===a&&g()},children:(0,d.jsx)("div",{className:`${n} dark:bg-black`,children:(0,d.jsx)("div",{className:o,children:u?v:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:i,children:_}),(0,d.jsx)("p",{className:r,children:m}),h?(0,d.jsx)("p",{className:r,children:h}):"",(0,d.jsx)("button",{type:"button",className:l,onClick:t,children:p}),(0,d.jsx)("p",{type:"button",className:`${c} dark:text-white`,onClick:a,children:b})]})})})})}},157:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(5043),n=a(3216),o=a(5475),i=a(2382),r=a(3401),l=a(3712);const c={top_container:"AddPostPage_top_container__l-rQj",title_back:"AddPostPage_title_back__DnWpl",btn_container:"AddPostPage_btn_container__FVp6Q",btn_preview_container:"AddPostPage_btn_preview_container__JWYn2",btn_preview:"AddPostPage_btn_preview__sa7qo",btn:"AddPostPage_btn__+l0wA",btn_active:"AddPostPage_btn_active__TwiI2",btn_disabled:"AddPostPage_btn_disabled__pv2Mp"};var d=a(5474),_=a(1623),m=a(1465),h=a(9367),g=a(6298),p=a(579);const b=e=>{let{postEdit:t,setPostEdit:a,draftsEdit:b,setDraftsEdit:u}=e;(0,n.zy)();const v=(0,n.Zp)(),[k,x]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),[f,P]=(0,s.useState)(!1),[N,y]=(0,s.useState)(!1),[A,S]=(0,s.useState)((()=>{var e;return(null===(e=JSON.parse(localStorage.getItem("previewPost")))||void 0===e?void 0:e.links)||[{id:(0,l.Ak)(),href:"",action:""}]})),[M,C]=(0,s.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("previewPost")))&&void 0!==e?e:{description:"",title:"",callToAction:"Read more",callToActionLinks:"",banners:[],status:"published"}}));(0,s.useEffect)((()=>{localStorage.setItem("previewPost",JSON.stringify(M))}),[M]);(0,s.useEffect)((()=>{""!==M.title&&""!==M.category&&""!==M.subcategory?y(!0):y(!1)}),[M.category,M.subcategory,M.title]);return(0,p.jsxs)("div",{children:[!f&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.N9,{}),(0,p.jsxs)("div",{className:c.top_container,onClick:()=>{x((e=>!e))},children:[(0,p.jsx)(m.A,{to:"",imgWidth:"50px",imgHeight:"50px",imgAlt:"Go back"}),(0,p.jsx)("p",{className:`${c.title_back} dark:text-white`,children:"New advertisement"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log("post",M);try{const e=await(0,i.rK)(M);console.log(e),P(!0),localStorage.removeItem("previewPost"),localStorage.removeItem("filterCategory"),setTimeout((()=>{v("/main")}),3e3)}catch(a){var t;(0,d.a)((null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.statusText)||a.message)}},children:[(0,p.jsx)(g.z,{setPost:C,post:M,links:A,setLinks:S}),(0,p.jsxs)("div",{className:c.btn_container,children:[(0,p.jsx)(o.k2,{to:"/main/addPost/previewAdvertisemet",children:(0,p.jsx)("button",{type:"button",className:c.btn_preview_container,children:(0,p.jsx)("span",{className:`${c.btn_preview} dark:text-white`,children:"Preview"})})}),(0,p.jsx)("button",{type:"submit",className:`${c.btn} ${N?c.btn_active:c.btn_disabled}`,disabled:!N,children:(0,p.jsx)("span",{className:c.btn_back_active,children:"Publish"})})]})]})]}),k&&(0,p.jsxs)(h.a,{handleToggleModal:()=>{x((e=>!e))},confirm:async()=>{try{localStorage.setItem("backend",JSON.stringify(M)),localStorage.removeItem("previewPost"),localStorage.removeItem("filterCategory"),v("/main"),x((e=>!e))}catch(e){console.log(e)}},cancel:()=>{localStorage.removeItem("previewPost"),v("/main"),x((e=>!e))},title:"Add post to draft?",description:"You can come back to edit later.",children:[(0,p.jsx)("h2",{className:c.modal_title,children:"Add post to draft?"}),(0,p.jsx)("p",{className:c.modal_descr,children:"You can come back to edit later."})]}),f&&(0,p.jsxs)(_.Z,{children:["Advertisement is under moderation. ",(0,p.jsx)("br",{}),"It will take about 15 minutes."]})]})}}}]);
//# sourceMappingURL=624.fb3984b6.chunk.js.map